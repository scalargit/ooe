<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/security"
             xmlns:beans="http://www.springframework.org/schema/beans"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.springframework.org/schema/beans
             http://www.springframework.org/schema/beans/spring-beans-3.1.xsd


             http://www.springframework.org/schema/security
             http://www.springframework.org/schema/security/spring-security-3.1.xsd">

	<http auto-config="true" use-expressions="true">
		<http-basic/>
		<intercept-url pattern="/**" access="hasRole('USERS')"/>
	</http>

	<authentication-manager alias="authenticationManager">
		<ldap-authentication-provider user-dn-pattern="cn={0},ou=ps"
		                              role-prefix="none"
		                              group-search-base="ou=groups"
		                              group-search-filter="member={0}"/>
	</authentication-manager>

	<ldap-server id="ldapServer"
	             url="ldap://tools.scalar.io:10389/dc=scalar,dc=com"
	             manager-dn="uid=admin,ou=system"
	             manager-password="secret"/>

	<ldap-user-service role-prefix="none"
	                   group-search-base="ou=groups"
	                   group-search-filter="member={0}"
	                   user-search-base="ou=ps"
	                   user-search-filter="cn={0}"
	                   server-ref="ldapServer"/>

	<beans:bean id="userService" class="org.o2e.cometd.security.OoeUserDetailsService"/>

</beans:beans>